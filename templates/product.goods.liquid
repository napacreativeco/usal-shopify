{% assign add_to_cart = 'Add to cart' %}
{% assign sold_out = 'Sold Out' %}
{% assign unavailable = 'Unavailable' %}

<form action="/cart/add" method="post" enctype="multipart/form-data">
      
  <meta itemprop="url" content="{{ shop.url }}{{ product.url }}" />
  <meta itemprop="image" content="{{ product | image_url: 'grande' }}" />
  <meta itemprop="priceCurrency" content="{{ shop.currency }}" />
  {% if product.available %}
    <link itemprop="availability" href="http://schema.org/InStock" />
  {% else %}
    <link itemprop="availability" href="http://schema.org/OutOfStock" />
  {% endif %}


  {% assign event = product.metafields.evey.event.value | default: product.metafields.evey.event %}



<div data-product--goods class="single-product goods" itemscope itemtype="http://schema.org/Product">

    <div class="topper">
        <div>Usal&reg; &nbsp; &nbsp; &nbsp; &nbsp; Los Angeles, California</div>
        <div>
            {{ "today" | date: "%B %d, %Y" }}
        </div>
    </div>
    <header>
        {% render 'navbar' %}
        {% render 'navbar--mobile' %}
    </header>

    <div class="anime-line">&nbsp;</div>

    <div class="product">
        <div class="row">
            {% comment %} Slideshow {% endcomment %}
            <div class="cell slideshow-cell">

                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        {% for image in product.images %}
                        <div class="swiper-slide" style="background: url('{{ image | img_url: 'large' }}'); background-size: cover;"></div>
                        {% endfor %}
                    </div> 
                </div>
         
                <div class="swiper-pagination"></div>
            </div>
            <div class="details">
                <div class="top">
                    <div>
                        <h1>
                            {{ product.title }}
                        </h1>
                    </div>
                    <div>
                        <ul class="variants-list">
                            {% for variant in product.variants %}

                                <li class="switch-field" data-link="{{ variant.id }}">

                                    <input
                                    class="date-radio"
                                    type="radio"
                                    data-price="{{ variant.price | money_without_trailing_zeros }}"
                                    id="{{ variant.id }}" value="{{ variant.id }}"
                                    name="id"
                                    {% if found_available_variant == false %}{% assign found_available_variant = true %} checked="checked"{% endif %} />
                                    
                                    <label class="label" for="{{ variant.id }}">
                                        {{ variant.title }}
                                    </label>

                                </li>

                            {% endfor %}
                            </ul>
                    </div>
                    <div>
                        <div class="add-to-cart">
                            <div id="product-add">
                              <input type="submit" name="add" id="add" value="{{ add_to_cart | escape }}">
                            </div>          
                        </div>
                    </div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="price">
                            {{ product.price | money_without_trailing_zeros }}
                        </div>
                        <div class="price-details">
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut ante viverra, scelerisque libero sit amet, gravida neque. Aenean aliquet in libero nec vestibulum. Aliquam cursus lacus ac diam suscipit elementum. Vivamus id consectetur dui. Aenean quis metus posuere, pharetra eros in, suscipit magna.</p>
                        </div>
                    </div>
                    <div class="quantity">
                        <span class="label">Quantity:</span>
                    </div>
                </div>
            </div>
        </div>
    </div>





</div>
</form>

<script defer src="{{ 'option_selection.js' | shopify_asset_url }}"></script>

<script>
/*
 * Page Title
 */
var logoHolder = $('div[data-logo]');
logoHolder.html('<h2 class="page-title">{{ template.suffix | capitalize }}</h2>');

(function() {
  $('body').css('background', '#191919');
}(jQuery));
</script>

{% comment %}
RADIO BUTTON FUNCTIONS
{% endcomment %}
<script type="text/javascript" charset="utf-8">
jQuery(function() { 

  /*
   * Click Function
   */
  jQuery("input[type='radio']").click(function() {

    jQuery('.date-radio').removeClass('active');
    
    jQuery(this).addClass('active');


    var variant_compare_at_price = jQuery(this).attr("data-compare-at-price") || '';
    jQuery(".price-field del").html(variant_compare_at_price);

  });
});
</script>

<script>
/*
 * Variant Selection
 */
var selectCallback = function(variant, selector) {
  if (variant) {

    // Swap image.
    if (variant.featured_image) {
      var newImage = variant.featured_image; // New image object.
      var mainImageDomEl = jQuery('.product-photo-container img')[0]; // DOM element of main image we need to swap.
      Shopify.Image.switchImage(newImage, mainImageDomEl, switchImage); // Define switchImage (the callback) in your theme's JavaScript file.
    }


    // Selected a valid variant that is available.
    if (variant.available) {

      // Enabling add to cart button.
      jQuery('#add').removeClass('disabled').prop('disabled', false).val({{ add_to_cart | json }});
    
      // If item is backordered yet can still be ordered, we'll show special message.
      if (variant.inventory_management && variant.inventory_quantity <= 0) {
        jQuery('#selected-variant').html({{ product.title | json }}{% unless hide_default_title %} + ' - ' + variant.title{% endunless %});
        jQuery('#backorder').removeClass("hidden");
      } else {
        jQuery('#backorder').addClass("hidden");
      }
      
    } else {
      // Variant is sold out.

      jQuery('#backorder').addClass('hidden');
      jQuery('#add').val({{ sold_out | json }}).addClass('disabled').prop('disabled', true);    

    }
    
    // Whether the variant is in stock or not, we can update the price and compare at price.
    if ( variant.compare_at_price > variant.price ) {
      jQuery('#product-price').html('<span class="product-price on-sale">'+ Shopify.formatMoney(variant.price, "{{ shop.money_format }}") +'</span>'+'&nbsp;<s class="product-compare-price">'+Shopify.formatMoney(variant.compare_at_price, "{{ shop.money_format }}")+ '</s>');
    } else {
      jQuery('#product-price').html('<span class="product-price">'+ Shopify.formatMoney(variant.price, "{{ shop.money_format }}") + '</span>' );
    }        
  } else {
    // variant doesn't exist.
    jQuery('#product-price').empty();
    jQuery('#backorder').addClass('hidden');
    jQuery('#add').val({{ unavailable | json }}).addClass('disabled').prop('disabled', true);
  }
};
  
jQuery(function($) {
  new Shopify.OptionSelectors('product-select', { product: {{ product | json }}, onVariantSelected: selectCallback, enableHistoryState: true });
  
  // Add label if only one product option and it isn't 'Title'.
  {% if product.options.size == 1 and product.options.first != 'Title' %}
    $('.selector-wrapper:eq(0)').prepend('<label>{{ product.options.first }}</label>');
  {% endif %}
});
Shopify.Image.preload({{ product.images | json }}, 'grande');
Shopify.Image.preload({{ product.images | json }}, '1024x1024');
</script>


<script>
var Swipes = new Swiper('.swiper-container', {
  loop: true,
  pagination: {
      el: '.swiper-pagination',
  },
});
</script>